import subprocess,os,sys


commands=""
for i in range(1,5):
	try: 
		commands= commands+sys.argv[i]+" "
	except(IndexError):
		break


command="nmap -sV --script=vulscan/vulscan.nse " + commands

try:
	results=subprocess.check_output(command,shell=True,stderr=open(os.devnull, 'w'))
	
	print(results)
	
	with open ("./results/ExtExploits" , "w") as fout: 
		#Preparing an Index for UPD files
		fout.write(results) 
	
except():
	print("Error")  


